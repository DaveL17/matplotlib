<?xml version="1.0"?>
<Devices>

<!-- CSV Engine -->
    <Device type="custom" id="csvEngine">
        <Name>CSV Engine</Name>
        <ConfigUI>

            <Field id="isChart" type="checkbox" defaultValue="false" hidden="true"/>

            <Field id="csvEngineDeviceText" type="label" fontColor="black" fontSize="small" alignWithControl="false">
                <Label>The CSV Engine Device is used to construct data files for charting. The use of this device is not required, but is provided as a convenience. To use your own CSV data simply place the CSV files in the main data directory specified in the plugin configuration dialog.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <!-- Number of lines to keep -->
            <Field id="numLinesToKeep" type="textfield" defaultValue="300" hidden="false">
                <Label>Observations:</Label>
            </Field>

            <Field id="numLinesToKeepText" type="label" hidden="false" fontSize="small" alignWithControl="true">
                <Label>Enter the maximum number of observations that you would like to retain in your CSV files.</Label>
            </Field>

            <!-- Number of lines to keep - time limit -->
            <Field id="numLinesToKeepTime" type="textfield" defaultValue="72" hidden="false" tooltip="Please enter a maximum duration time (in hours).">
                <Label>Duration:</Label>
            </Field>

            <Field id="numLinesToKeepTextTime" type="label" hidden="false" fontSize="small" alignWithControl="true">
                <Label>Enter the maximum time duration to apply to your CSV files. For example, entering 24 will cause observations older than 24 hours to be discarded. Leave empty or enter a value of zero for no limit.</Label>
            </Field>

            <!-- Refresh interval -->
            <Field id="refreshInterval" type="textfield" defaultValue="900" tooltip="How frequently would you like the plugin to update the CSV data?">
                <Label>Refresh Interval:</Label>
            </Field>

            <!-- Add Item-->
            <Field id="addItemLabel" type="label" alignText="right">
                <Label>Add Data Item</Label>
            </Field>

            <Field id="sep2" type="separator"/>

            <Field id="label5" type="label" fontColor="black" fontSize="small">
                <Label>Use this section to add a new item. Enter a title and a device or variable ID and then click 'Add Item'.</Label>
            </Field>

            <Field id="addKey" type="textfield" hidden="true">
                <Label>Key:</Label>
            </Field>

            <Field id="addValue" type="textfield">
                <Label>Title:</Label>
            </Field>

            <Field id="addSource" type="menu">
                <Label>ID:</Label>
                <List class="self" filter="" method="csv_source" dynamicReload="true"/>
                <CallbackMethod>_dummyCallback</CallbackMethod>
            </Field>

            <Field id="addState" type="menu">
                <Label>Data:</Label>
                <List class="self" filter="" method="deviceStateValueList" dynamicReload="true"/>
            </Field>

            <Field id="csv_item_add" type="button">
                <Label/>
                <Title>Add Item</Title>
                <CallbackMethod>csv_item_add</CallbackMethod>
            </Field>

            <!-- Edit item -->
            <Field id="numObsLabel" type="label" alignText="right">
                <Label>Edit Data Item</Label>
            </Field>

            <Field id="sep1" type="separator"/>

            <Field id="label0.5" type="label" fontColor="black" fontSize="small">
                <Label>Use this section to update or delete existing items.</Label>
            </Field>

            <Field id="csv_item_list" type="menu">
                <Label>Item List</Label>
                <List class="self" filter="" method="csv_item_list" dynamicReload="true"/>
                <CallbackMethod>csv_item_select</CallbackMethod>
            </Field>

            <Field id="isColumnSelected" type="checkbox" hidden="true" default="False">
                <Label>is an item selected?</Label>
            </Field>

            <Field id="label1" type="label" fontColor="darkgray" fontSize="small" alignWithControl="true">
                <Label>This is a list of all existing items the plugin is tracking.  It will only display those items that have been created by the CSV device.  Select an item from this list to update its values or delete it from the plugin.</Label>
            </Field>

            <Field id="columnDict" type="textfield" defaultValue="{'k0': ('None', 'None', 'None')}" hidden="true">
                <Label>Dict to Hold Column List:</Label>
            </Field>

            <Field id="editKey" type="textfield" readonly="true" hidden="true" enabledBindingId="isColumnSelected">
                <Label>Key:</Label>
            </Field>

            <Field id="previousKey" type="textfield" hidden="true">
                <Label>Previous Key:</Label>
            </Field>

            <Field id="editValue" type="textfield" enabledBindingId="isColumnSelected">
                <Label>Title:</Label>
            </Field>

            <Field id="editSource" type="menu" enabledBindingId="isColumnSelected">
                <Label>ID:</Label>
                <List class="self" filter="" method="csv_source" dynamicReload="true"/>
                <CallbackMethod>_dummyCallback</CallbackMethod>
            </Field>

            <Field id="editState" type="menu" enabledBindingId="isColumnSelected">
                <Label>Data:</Label>
                <List class="self" filter="" method="deviceStateValueList" dynamicReload="true"/>
            </Field>

            <Field id="csv_item_update" type="button" enabledBindingId="isColumnSelected">
                <Label/>
                <Title>Update Item</Title>
                <CallbackMethod>csv_item_update</CallbackMethod>
            </Field>

            <Field id="label2.5" type="label" fontColor="darkgray" alignWithControl="true" fontSize="small">
                <Label>or</Label>
            </Field>

            <Field id="csv_item_delete" type="button" enabledBindingId="isColumnSelected">
                <Label/>
                <Title>Delete Item</Title>
                <CallbackMethod>csv_item_delete</CallbackMethod>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="label6" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Note that changes made in this dialog will not be fully committed until you click the "Save" button.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="csvLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>CSV Data Last Updated</TriggerLabel>
                <ControlPageLabel>CSV Data Last Updated</ControlPageLabel>
            </State>

            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>

    </Device>

<!-- Bar Charting Device -->
    <Device type="custom" id="barChartingDevice">
        <Name>Bar Chart</Name>
        <ConfigUI>

            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="barChartDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Bar Chart Devices are most useful in instances where there are a relatively small number of distinct observations.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_bar.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="outputFileSpace" type="label"/>

            <Field id="chartControlsLabel" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

            <Field id="rectWide" type="checkbox" defaultValue="false" tooltip="Check to use Size 2 dimensions.">
                <Label>Use Size 2?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeChart" type="checkbox" defaultValue="false" tooltip="Check to override default chart sizes.">
                <Label>Custom Size?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeHeight" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for height. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Height:</Label>
            </Field>

            <Field id="customSizeWidth" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for width. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Width:</Label>
            </Field>

            <Field id="customSizeFont" type="checkbox" defaultValue="false" tooltip="Check to override default font sizes.">
                <Label>Custom Font Sizes?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customTitleFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the title font size of your chart (this chart only).">
                <Label>Title Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="customTickFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the tick font size of your chart (this chart only).">
                <Label>Tick Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="showLegend" type="checkbox" defaultValue="false" tooltip="Check to display chart legend.">
                <Label>Legend?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="numObs" type="textfield" defaultValue="20" tooltip="Enter the number of observations for the chart (integer).">
                <Label>Number of Bars:</Label>
            </Field>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>

            <Field id="barWidth" type="textfield" defaultValue="0.1" tooltip="To control the width of the bars, enter a float greater than zero.">
                <Label>Width of Bars:</Label>
            </Field>

            <Field id="AxisLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Axis Controls:</Label>
            </Field>

            <Field id="xAxisSeparator" type="separator"/>

            <Field id="xAxisLabel" type="checkbox" defaultValue="false">
                <Label>X Axis</Label>
            </Field>

            <Field id="showxAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="xAxisLabel" tooltip="Check to display X axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="xAxisLabelFormat" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="The format specifier for the data for the x axis.">
                <Label>Format:</Label>
                <List class="self" filter="" method="getAxisList" dynamicReload="true"/>
            </Field>

            <Field id="customAxisLabelX" type="textfield" defaultValue="X Axis" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the X Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <Field id="xAxisBins" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="The datetime units for the x axis.">
                <Label>Scale:</Label>
                <List class="self" filter="" method="getBinList" dynamicReload="true"/>
            </Field>

            <Field id="yAxisSeparator" visibleBindingId="xAxisLabel" visibleBindingValue="true" type="separator"/>

            <Field id="yAxisLabel" type="checkbox" defaultValue="false">
                <Label>Y Axis</Label>
            </Field>

            <Field id="showyAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to display Y axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelY" type="textfield" defaultValue="Y Axis" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the Y Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <Field id="yAxisMax" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The maximum Y axis value.">
                <Label>Max:</Label>
            </Field>

            <Field id="yAxisMin" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The minimum Y axis value.">
                <Label>Min:</Label>
            </Field>

            <Field id="yMirrorValues" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to mirror Y axis values on Y2.">
                <Label>Mirror</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="yMirrorValuesAlsoY1" type="checkbox" defaultValue="true" visibleBindingId="yMirrorValues" visibleBindingValue="true" tooltip="Uncheck to hide Y1 axis values.">
                <Label/>
                <Description>Keep Y1?</Description>
            </Field>

            <Field id="yAxisPrecision" type="menu" defaultValue="0" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Select preference for the precision of your chart's Y axis.">
                <Label>Precision:</Label>
                <List>
                    <Option value="0">0*</Option>
                    <Option value="1">1</Option>
                    <Option value="2">2</Option>
                    <Option value="3">3</Option>
                </List>
            </Field>

            <Field id="customTicksLabelY" type="textfield" defaultValue="" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the labels to be used for the Y Axis ticks, separated by commas. Leave blank to use automatic labels.">
                <Label>Tick Labels:</Label>
            </Field>

            <Field id="customTicksY" type="textfield" defaultValue="" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the numbers to be used for the Y Axis ticks, separated by commas. Leave blank to use automatic ticks.">
                <Label>Tick Locations:</Label>
            </Field>

            <Field id="barLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Bar Controls:</Label>
            </Field>
<!-- Bar 1 -->
            <Field id="bar1Top" type="separator"/>

            <Field id="barLabel1" type="checkbox" defaultValue="false">
                <Label>Bar 1</Label>
            </Field>

            <Field id="bar1Source" type="menu" visibleBindingId="barLabel1" visibleBindingValue="true" tooltip="Select data source for bar 1.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="bar1Annotate" type="checkbox" defaultValue="false" visibleBindingId="barLabel1" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="bar1Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="barLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's first bar.">
                <Label>Color:</Label>
            </Field>

            <Field id="bar1Legend" type="textfield" defaultValue="" visibleBindingId="barLabel1" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="plotBar1Min" type="checkbox" defaultValue="false" visibleBindingId="barLabel1" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotBar1Max" type="checkbox" defaultValue="false" visibleBindingId="barLabel1" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

<!-- Bar 2 -->
            <Field id="bar2Top" type="separator" visibleBindingId="barLabel1" visibleBindingValue="true"/>

            <Field id="barLabel2" type="checkbox" defaultValue="false">
                <Label>Bar 2</Label>
            </Field>

            <Field id="bar2Source" type="menu" visibleBindingId="barLabel2" visibleBindingValue="true" tooltip="Select data source for bar 2.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="bar2Annotate" type="checkbox" defaultValue="false" visibleBindingId="barLabel2" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="bar2Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="barLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's second bar.">
                <Label>Color:</Label>
            </Field>

            <Field id="bar2Legend" type="textfield" defaultValue="" visibleBindingId="barLabel2" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="plotBar2Min" type="checkbox" defaultValue="false" visibleBindingId="barLabel2" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotBar2Max" type="checkbox" defaultValue="false" visibleBindingId="barLabel2" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

<!-- Bar 3 -->
            <Field id="bar3Top" type="separator" visibleBindingId="barLabel2" visibleBindingValue="true"/>

            <Field id="barLabel3" type="checkbox" defaultValue="false">
                <Label>Bar 3</Label>
            </Field>

            <Field id="bar3Source" type="menu" visibleBindingId="barLabel3" visibleBindingValue="true" tooltip="Select data source for bar 3.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="bar3Annotate" type="checkbox" defaultValue="false" visibleBindingId="barLabel3" visibleBindingValue="true"
                   tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="bar3Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="barLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's third bar.">
                <Label>Color:</Label>
            </Field>

            <Field id="bar3Legend" type="textfield" defaultValue="" visibleBindingId="barLabel3" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="plotBar3Min" type="checkbox" defaultValue="false" visibleBindingId="barLabel3" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotBar3Max" type="checkbox" defaultValue="false" visibleBindingId="barLabel3" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

<!-- Bar 4 -->
            <Field id="bar4Top" type="separator" visibleBindingId="barLabel3" visibleBindingValue="true"/>

            <Field id="barLabel4" type="checkbox" defaultValue="false">
                <Label>Bar 4</Label>
            </Field>

            <Field id="bar4Source" type="menu" visibleBindingId="barLabel4" visibleBindingValue="true" tooltip="Select data source for bar 4.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="bar4Annotate" type="checkbox" defaultValue="false" visibleBindingId="barLabel4" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="bar4Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="barLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's fourth bar.">
                <Label>Color:</Label>
            </Field>

            <Field id="bar4Legend" type="textfield" defaultValue="" visibleBindingId="barLabel4" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="bar4Fill" type="checkbox" defaultValue="false" visibleBindingId="barLabel4" visibleBindingValue="true" tooltip="Check to fill below this bar.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotBar4Min" type="checkbox" defaultValue="false" visibleBindingId="barLabel4" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotBar4Max" type="checkbox" defaultValue="false" visibleBindingId="barLabel4" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="barSeparator" type="separator" visibleBindingId="barLabel4" visibleBindingValue="true"/>

            <Field id="additionalBarSpace" type="label" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"/>

            <Field id="enableCustomLineSegmentsSetting" type="checkbox" hidden="true" defaultValue="false">
                <Label>Enable Custom Line Segments</Label>
            </Field>

            <Field id="additionalBarSegmentsLabel" type="label" fontColor="black" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true" fontSize="regular"
                   alignText="right">
                <Label>Custom Line Segments</Label>
            </Field>

            <Field id="additionalBarSegments" type="separator" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"/>

            <Field id="customLineSegments" type="textfield" defaultValue="None" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip='For any constants that you would like to chart, enter the data here. The proper format is (data, "color"). The data to be charted must be a valid
number and the color value should be enclosed in double quotes. Multiple entries must be separated by a comma: (32.0, "blue"), (32.1, "#FFFFFF").'>
                <Label>Constants:</Label>
            </Field>

            <Field id="customLineStyle" type="menu" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's custom line segments.">
                <Label>Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="bottomLabel" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Changes made here will be applied the next time the charts are refreshed. If you would like to make your changes effective immediately, select 'Redraw Charts Now' from the Indigo Plugins menu.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>

    </Device>

<!-- Battery Health Device -->
    <Device type="custom" id="batteryHealthDevice">
        <Name>Battery Health</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="datteryDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Battery Health devices are used to create a graphic representation of the health of battery-powered Indigo devices.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_battery.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="chartControlsLabel" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>

            <Field id="customSizeHeight" type="textfield" defaultValue="None"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for height. To set it back to the default size, enter None.">
                <Label>Custom Height:</Label>
            </Field>

            <Field id="customSizeWidth" type="textfield" defaultValue="None" tooltip="This value will override the size value set in the main plugin configuration. The value will be used for width. To set it back to the default size, enter None.">
                <Label>Custom Width:</Label>
            </Field>

            <Field id="AxisLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Axis Controls</Label>
            </Field>

            <Field id="xAxisSeparator" type="separator"/>

            <Field id="customAxisLabelX" type="textfield" defaultValue="X Axis"
                   tooltip="Enter the text to be displayed as the X Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <!-- We need this value to exist in order to display the X axis label. We don't need a legend for the battery health device. -->
            <Field id="showLegend" type="checkbox" defaultValue="false" hidden="true">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="showxAxisGrid" type="checkbox" defaultValue="false" tooltip="Check to display X axis grid.">
                <Label>Grid:</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="displayLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Display Controls</Label>
            </Field>

            <Field id="displaySeparator" type="separator"/>

            <Field id="healthyColor" type="colorpicker" defaultValue="00 00 CC"
                   tooltip="Select preference for the color for devices with batteries that are at the healthy level.">
                <Label>Healthy Color:</Label>
            </Field>

            <Field id="cautionColor" type="colorpicker" defaultValue="FF FF 00"
                   tooltip="Select preference for the color for devices with batteries that are at caution level.">
                <Label>Caution Color:</Label>
            </Field>

            <Field id="warningColor" type="colorpicker" defaultValue="FF 00 00"
                   tooltip="Select preference for the color for devices with batteries that are at the warning level.">
                <Label>Warning Color:</Label>
            </Field>

            <Field id="cautionLevel" type="textfield" defaultValue="10" tooltip="This value determines when bars will be set to caution level (integer).">
                <Label>Caution Level:</Label>
            </Field>

            <Field id="warningLevel" type="textfield" defaultValue="5" tooltip="This value determines when bars will be set to warning level (integer).">
                <Label>Warning Level:</Label>
            </Field>

            <Field id="showBatteryLevel" type="checkbox" defaultValue="true" tooltip="Check to display the current battery level for each device within the chart.">
                <Label>Show Battery Level:</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="excludedDevices" type="list" rows="7" tooltip="Please select the devices to exclude.">
                <Label>Excluded Devices:</Label>
                <List class="self" filter="" method="getBatteryDeviceList"/>
            </Field>

            <Field id="excludedDevicesLabel" type="label" alignWithControl="true" tooltip="Indigo ID numbers, separated by a comma.">
                <Label>Select the Indigo ID numbers of the devices you want to exclude from the chart (separated by a comma). For example, you may want to exclude USB-powered devices. To select multiple devices, hold the command (&#x2318;) key while selecting.</Label>
            </Field>
        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>

    </Device>

<!-- Calendar Charting Device -->
    <Device type="custom" id="calendarChartingDevice">
        <Name>Calendar</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="CalendarDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Calendar devices are used to create graphic representations of the current month.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_calendar.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="customSizeHeight" type="textfield" defaultValue="None"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for height. To set it back to the default size, enter None.">
                <Label>Custom Height:</Label>
            </Field>

            <Field id="customSizeWidth" type="textfield" defaultValue="None" tooltip="This value will override the size value set in the main plugin configuration. The value will be used for width. To set it back to the default size, enter None.">
                <Label>Custom Width:</Label>
            </Field>

            <Field id="fontSize" type="menu" tooltip="Select the size of the font to use for the calendar plot.">
                <Label>Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="firstDayOfWeek" type="menu" defaultValue="6" tooltip="Select the first day of the week.">
                <Label>Week Starts on:</Label>
                <List>
                    <Option value="6">Sunday*</Option>
                    <Option value="0">Monday</Option>
                </List>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>

    </Device>

<!-- Line Charting Device -->
    <Device type="custom" id="lineChartingDevice">
        <Name>Line Chart</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="lineChartDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Line Chart Devices are probably the most useful in instances where there are a relatively large number of time series data.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_line.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="outputFileSpace" type="label"/>

            <Field id="chartControlsLabel" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

            <Field id="rectWide" type="checkbox" defaultValue="false" tooltip="Check to use Size 2 dimensions.">
                <Label>Use Size 2?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeChart" type="checkbox" defaultValue="false" tooltip="Check to override default chart sizes.">
                <Label>Custom Size?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeHeight" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for height. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Height:</Label>
            </Field>

            <Field id="customSizeWidth" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for width. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Width:</Label>
            </Field>

            <Field id="customSizeFont" type="checkbox" defaultValue="false" tooltip="Check to override default font sizes.">
                <Label>Custom Font Sizes?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customTitleFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the title font size of your chart (this chart only).">
                <Label>Title Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="customTickFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the tick font size of your chart (this chart only).">
                <Label>Tick Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="showLegend" type="checkbox" defaultValue="false" tooltip="Check to display chart legend.">
                <Label>Legend?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>

            <Field id="AxisLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Axis Controls:</Label>
            </Field>

            <Field id="xAxisSeparator" type="separator"/>

            <Field id="xAxisLabel" type="checkbox" defaultValue="false">
                <Label>X Axis</Label>
            </Field>

            <Field id="showxAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="Check to display X axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="xAxisLabelFormat" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="The format specifier for the label that will be displayed on the x axis.">
                <Label>Format:</Label>
                <List class="self" filter="" method="getAxisList" dynamicReload="true"/>
            </Field>

            <Field id="customAxisLabelX" type="textfield" defaultValue="X Axis" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the X Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <Field id="xAxisBins" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="The datetime units for the x axis.">
                <Label>Scale:</Label>
                <List class="self" filter="" method="getBinList" dynamicReload="true"/>
            </Field>

            <Field id="yAxisSeparator" type="separator" visibleBindingId="xAxisLabel" visibleBindingValue="true"/>

            <Field id="yAxisLabel" type="checkbox" defaultValue="false">
                <Label>Y Axis</Label>
            </Field>

            <Field id="showyAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to display Y axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelY" type="textfield" defaultValue="Y Axis" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the Y Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <Field id="yAxisMin" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The minimum Y axis value.">
                <Label>Min:</Label>
            </Field>

            <Field id="yAxisMax" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The maximum Y axis value.">
                <Label>Max:</Label>
            </Field>

            <Field id="yMirrorValues" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to mirror Y axis values on Y2.">
                <Label>Mirror</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="yMirrorValuesAlsoY1" type="checkbox" defaultValue="true" visibleBindingId="yMirrorValues" visibleBindingValue="true" tooltip="Uncheck to hide Y1 axis values.">
                <Label/>
                <Description>Keep Y1?</Description>
            </Field>

            <Field id="yAxisPrecision" type="menu" defaultValue="0" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Select preference for the precision of your chart's Y axis.">
                <Label>Precision:</Label>
                <List>
                    <Option value="0">0*</Option>
                    <Option value="1">1</Option>
                    <Option value="2">2</Option>
                    <Option value="3">3</Option>
                </List>
            </Field>

            <Field id="customTicksLabelY" type="textfield" defaultValue="" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the labels to be used for the custom Y Axis ticks, separated by commas. Leave blank to use automatic labels.">
                <Label>Tick Labels:</Label>
            </Field>

            <Field id="customTicksY" type="textfield" defaultValue="" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the numbers to be used for the custom Y Axis ticks, separated by commas. Leave blank to use automatic ticks.">
                <Label>Tick Locations:</Label>
            </Field>

            <Field id="linesLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Line Controls</Label>
            </Field>

            <Field id="linesSeparator" type="separator"/>

<!-- Line 1 -->
            <Field id="lineLabel1" type="checkbox" defaultValue="false">
                <Label>Line 1</Label>
            </Field>

            <Field id="line1Source" type="menu" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Select data source for line 1.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="line1adjuster" type="textfield" defaultValue="" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Line 1 adjuster tooltip.">
                <Label>Adjustment Factor</Label>
            </Field>

            <Field id="line1Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1Fill" type="checkbox" defaultValue="false" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Check to fill below this line.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1Legend" type="textfield" defaultValue="" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="line1Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's first line.">
                <Label>Line Color:</Label>
            </Field>

            <Field id="line1Style" type="menu" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's first line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line1MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line1Marker" type="menu" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's first line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotLine1Min" type="checkbox" defaultValue="false" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotLine1Max" type="checkbox" defaultValue="false" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1BestFit" type="checkbox" defaultValue="false" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for line 1.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="line1Bottom" type="separator" visibleBindingId="lineLabel1" visibleBindingValue="true"/>

<!-- Line 2 -->
            <Field id="lineLabel2" type="checkbox" defaultValue="false">
                <Label>Line 2</Label>
            </Field>

            <Field id="line2Source" type="menu" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Select data source for line 2.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="line2adjuster" type="textfield" defaultValue="" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Line 1 adjuster tooltip.">
                <Label>Adjustment Factor</Label>
            </Field>

            <Field id="line2Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2Fill" type="checkbox" defaultValue="false" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Check to fill below this line.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2Legend" type="textfield" defaultValue="" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="line2Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's second line.">
                <Label>Line Color:</Label>
            </Field>

            <Field id="line2Style" type="menu" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's second line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line2MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line2Marker" type="menu" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's second line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotLine2Min" type="checkbox" defaultValue="false" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotLine2Max" type="checkbox" defaultValue="false" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2BestFit" type="checkbox" defaultValue="false" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for line 2.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="line2Bottom" type="separator" visibleBindingId="lineLabel2" visibleBindingValue="true"/>

<!-- Line 3 -->
            <Field id="lineLabel3" type="checkbox" defaultValue="false">
                <Label>Line 3</Label>
            </Field>

            <Field id="line3Source" type="menu" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Select data source for line 3.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="line3adjuster" type="textfield" defaultValue="" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Line 1 adjuster tooltip.">
                <Label>Adjustment Factor</Label>
            </Field>

            <Field id="line3Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3Fill" type="checkbox" defaultValue="false" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Check to fill below this line.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3Legend" type="textfield" defaultValue="" visibleBindingId="lineLabel3" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="line3Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's third line.">
                <Label>Line Color:</Label>
            </Field>

            <Field id="line3Style" type="menu" visibleBindingId="lineLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's third line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line3MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line3Marker" type="menu" visibleBindingId="lineLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's third line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotLine3Min" type="checkbox" defaultValue="false" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotLine3Max" type="checkbox" defaultValue="false" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3BestFit" type="checkbox" defaultValue="false" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="lineLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for line 3.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="line3Bottom" type="separator" visibleBindingId="lineLabel3" visibleBindingValue="true"/>

<!-- Line 4 -->
            <Field id="lineLabel4" type="checkbox" defaultValue="false">
                <Label>Line 4</Label>
            </Field>

            <Field id="line4Source" type="menu" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Select data source for line 4.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="line4adjuster" type="textfield" defaultValue="" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Line 1 adjuster tooltip.">
                <Label>Adjustment Factor</Label>
            </Field>

            <Field id="line4Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line4Fill" type="checkbox" defaultValue="false" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Check to fill below this line.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line4Legend" type="textfield" defaultValue="" visibleBindingId="lineLabel4" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="line4Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's fourth line.">
                <Label>Line Color:</Label>
            </Field>

            <Field id="line4Style" type="menu" visibleBindingId="lineLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's fourth line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line4MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line4Marker" type="menu" visibleBindingId="lineLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's fourth line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotLine4Min" type="checkbox" defaultValue="false" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotLine4Max" type="checkbox" defaultValue="false" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line4BestFit" type="checkbox" defaultValue="false" visibleBindingId="lineLabel4" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line4BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="lineLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for line 4.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="line4Bottom" type="separator" visibleBindingId="lineLabel4" visibleBindingValue="true"/>

<!-- Line 5 -->
            <Field id="lineLabel5" type="checkbox" defaultValue="false">
                <Label>Line 5</Label>
            </Field>

            <Field id="line5Source" type="menu" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Select data source for line 5.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="line5adjuster" type="textfield" defaultValue="" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Line 5 adjuster tooltip.">
                <Label>Adjustment Factor</Label>
            </Field>

            <Field id="line5Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line5Fill" type="checkbox" defaultValue="false" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Check to fill below this line.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line5Legend" type="textfield" defaultValue="" visibleBindingId="lineLabel5" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="line5Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel5" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's fifth line.">
                <Label>Line Color:</Label>
            </Field>

            <Field id="line5Style" type="menu" visibleBindingId="lineLabel5" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's fifth line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line5MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel5" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line5Marker" type="menu" visibleBindingId="lineLabel5" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's fifth line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotLine5Min" type="checkbox" defaultValue="false" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotLine5Max" type="checkbox" defaultValue="false" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line5BestFit" type="checkbox" defaultValue="false" visibleBindingId="lineLabel5" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line5BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="lineLabel5" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for line 5.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="line5Bottom" type="separator" visibleBindingId="lineLabel5" visibleBindingValue="true"/>

<!-- Line 6 -->
            <Field id="lineLabel6" type="checkbox" defaultValue="false">
                <Label>Line 6</Label>
            </Field>

            <Field id="line6Source" type="menu" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Select data source for line 6.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="line6adjuster" type="textfield" defaultValue="" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Line 5 adjuster tooltip.">
                <Label>Adjustment Factor</Label>
            </Field>

            <Field id="line6Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line6Fill" type="checkbox" defaultValue="false" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Check to fill below this line.">
                <Label>Fill</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line6Legend" type="textfield" defaultValue="" visibleBindingId="lineLabel6" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="line6Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel6" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's sixth line.">
                <Label>Line Color:</Label>
            </Field>

            <Field id="line6Style" type="menu" visibleBindingId="lineLabel6" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's sixth line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line6MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel6" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line6Marker" type="menu" visibleBindingId="lineLabel6" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's sixth line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotLine6Min" type="checkbox" defaultValue="false" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotLine6Max" type="checkbox" defaultValue="false" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line6BestFit" type="checkbox" defaultValue="false" visibleBindingId="lineLabel6" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line6BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="lineLabel6" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for line 6.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="line6Bottom" type="separator" visibleBindingId="lineLabel6" visibleBindingValue="true"/>

            <Field id="enableCustomLineSegmentsSetting" type="checkbox" hidden="true" defaultValue="false">
                <Label>Enable Custom Line Segments</Label>
            </Field>

            <Field id="additionalLineSegmentsLabel" type="label" fontColor="black" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true" fontSize="regular" alignText="right">
                <Label>Custom Line Segments</Label>
            </Field>

            <Field id="additionalLineSegments" type="separator" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"/>

            <Field id="customLineSegments" type="textfield" defaultValue="None" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip='For any constants that you would like to chart, enter the data here. The proper format is (data, "color"). The data to be charted must be a valid number and the color value should be enclosed in double quotes. Multiple entries must be separated by a comma: (32.0, "blue"), (32.1, "#FFFFFF")'>
                <Label>Constants:</Label>l
            </Field>

            <Field id="customLineStyle" type="menu" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's custom line segments.">
                <Label>Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="bottomLabel" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Changes made here will be applied the next time the charts are refreshed. If you would like to make your changes effective immediately, select 'Redraw Charts Now' from the Indigo Plugins menu.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>
    </Device>

<!-- rcParams Text Device -->
    <Device type="custom" id="rcParamsDevice">
        <Name>Matplotlib Parameters</Name>
        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="rcParamsLabel" type="label">
                <Label>The Matplotlib Parameters device is a repository for the initial settings that the plugin uses *before* any customizations are applied by the plugin. It provides a way to know what the plugin uses for its default parameters.

There are presently no configurations available for this device.
                </Label>
            </Field>

        </ConfigUI>
        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>

    </Device>

<!-- Multiline Text Device -->
    <Device type="custom" id="multiLineText">
        <Name>Multiline Text</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="multilineTextDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Multiline text devices are used to create graphics containing many lines of text from long strings.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_multiline.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="sourceSpace1" type="label"/>

            <Field id="sourceLabel" type="label" alignText="right">
                <Label>Source Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

            <Field id="thing" type="menu">
                <Label>Source:</Label>
                <List class="self" filter="" method="generatorDeviceAndVariableList" dynamicReload="true"/>
                <CallbackMethod>_dummyCallback</CallbackMethod>
            </Field>

            <Field id="thingState" type="menu">
                <Label>Text to chart:</Label>
                <List class="self" filter="" method="generatorDeviceStates" dynamicReload="true"/>
            </Field>

            <Field id="sourceSpace2" type="label"/>

            <Field id="sourceLabel2" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator2" type="separator"/>

            <Field id="textAreaBorder" type="checkbox" defaultValue="100" tooltip="Chedck this box if you would like a border around your image.">
                <Label>Border?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="numberOfCharacters" type="textfield" defaultValue="100" tooltip="Enter the number of characters desired for each line of text.">
                <Label>Characters:</Label>
            </Field>

            <Field id="cleanTheText" type="checkbox" defaultValue="true" tooltip="If enabled, the plugin will try to remove whitespace from the text.">
                <Label>Clean Text:</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="figureWidth" type="textfield" defaultValue="700" tooltip="Enter the desired width of your figure (pixels).">
                <Label>Figure Width:</Label>
            </Field>

            <Field id="figureHeight" type="textfield" defaultValue="300" tooltip="Enter the desired height of your figure (pixels).">
                <Label>Figure Height:</Label>
            </Field>

            <Field id="textColor" type="colorpicker" defaultValue="FF 33 00" tooltip="Select preference for the text color of your plot.">
                <Label>Font Color:</Label>
            </Field>

            <Field id="multilineFontSize" type="textfield" defaultValue="10"
                   tooltip="Enter the font size to use for multiline text plots. This only affects this device instance.">
                <Label>Font Size:</Label>
            </Field>

            <Field id="defaultText" type="textfield" defaultValue="This is where the placeholder text goes."
                   tooltip="Enter the text to be displayed when the value of the multiline text element to be plotted is empty. Placeholder text will be used when the device state or variable value is empty. You can also leave the box blank.">
                <Label>Placeholder:</Label>
            </Field>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="bottomLabel" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Changes made here will be applied the next time the charts are refreshed. If you would like to make your changes effective immediately, select 'Redraw Charts Now' from the Indigo Plugins menu.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>

    </Device>

<!-- Polar Charting Device -->
    <Device type="custom" id="polarChartingDevice">
        <Name>Polar Chart</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="polarChartDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Polar Chart Devices display direction and magnitude (with wind charts for example, the angle represents direction and the distance from the center represents speed).</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_polar.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="sourceSpace1" type="label"/>

            <Field id="sourceLabel1" type="label" alignText="right">
                <Label>Source Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

            <Field id="thetaValueText" type="label" fontColor="black" fontSize="small" alignWithControl="true">
                <Label>Direction observations are in degrees (0-360). Fractional degrees (123.4) are okay.</Label>
            </Field>

            <Field id="thetaValue" type="menu" tooltip="Select data source for the direction value (theta).">
                <Label>Direction Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="radiiValueText" type="label" fontColor="black" fontSize="small" alignWithControl="true">
                <Label>Magnitude observations are any real number greater than zero. Fractional numbers are okay.</Label>
            </Field>

            <Field id="radiiValue" type="menu" tooltip="Select data source for the magnitude value (radii).">
                <Label>Magnitude Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="sourceSpace2" type="label"/>

            <Field id="sourceLabel2" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator2" type="separator"/>

            <Field id="currentWindColor" type="colorpicker" defaultValue="FF 33 33" tooltip="Select preference for the color of your chart's current wind observation.">
                <Label>Color (current):</Label>
            </Field>

            <Field id="maxWindColor" type="colorpicker" defaultValue="33 33 FF" tooltip="Select preference for the color of your chart's maximum wind observation.">
                <Label>Color (max):</Label>
            </Field>

            <Field id="customSizeChart" type="checkbox" defaultValue="false" tooltip="Check to override default chart sizes.">
                <Label>Custom Chart Size?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizePolar" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for both height and width. To set it back to the default size, enter None.">
                <Label>Custom Size:</Label>
            </Field>

            <Field id="customSizeFont" type="checkbox" defaultValue="false" tooltip="Check to override default font sizes.">
                <Label>Custom Font Sizes?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customTitleFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the title font size of your chart (this chart only).">
                <Label>Title Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="customTickFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the tick font size of your chart (this chart only).">
                <Label>Tick Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="xHideLabels" defaultValue="false" type="checkbox" tooltip="Select to hide the surrounding labels on the outside of the chart.">
                <Label>Hide X Labels:</Label>
                <Description/>
            </Field>

            <Field id="yHideLabels" defaultValue="false" type="checkbox" tooltip="Select to hide the radial labels on the inside of the chart.">
                <Label>Hide Y Labels:</Label>
                <Description/>
            </Field>

            <Field id="showLegend" type="checkbox" defaultValue="false" tooltip="Check to display chart legend.">
                <Label>Legend?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="numObs" type="textfield" defaultValue="8" tooltip="Enter the number of observations for the chart (integer).">
                <Label>Observations:</Label>
            </Field>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="bottomLabel" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Changes made here will be applied the next time the charts are refreshed. If you would like to make your changes effective immediately, select 'Redraw Charts Now' from the Indigo Plugins menu.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>
    </Device>

<!-- Scatter Charting Device -->
    <Device type="custom" id="scatterChartingDevice">
        <Name>Scatter Chart</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="scatterChartDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Scatter Chart Devices are probably the most useful in instances where there are a relatively large number of time series data.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_scatter.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="outputFileSpace" type="label"/>

            <Field id="chartControlsLabel" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

<!--Chart Controls-->
            <Field id="rectWide" type="checkbox" defaultValue="false" tooltip="Check to use Size 2 dimensions.">
                <Label>Use Size 2?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeChart" type="checkbox" defaultValue="false" tooltip="Check to override default chart sizes.">
                <Label>Custom Size?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeHeight" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for height. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Height:</Label>
            </Field>

            <Field id="customSizeWidth" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for width. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Width:</Label>
            </Field>

            <Field id="customSizeFont" type="checkbox" defaultValue="false" tooltip="Check to override default font sizes.">
                <Label>Custom Font Sizes?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customTitleFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the title font size of your chart (this chart only).">
                <Label>Title Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="customTickFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the tick font size of your chart (this chart only).">
                <Label>Tick Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="showLegend" type="checkbox" defaultValue="false" tooltip="Check to display chart legend.">
                <Label>Legend?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>
<!--X Axis-->
            <Field id="AxisLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Axis Controls:</Label>
            </Field>

            <Field id="xAxisSeparator" type="separator"/>

            <Field id="xAxisLabel" type="checkbox" defaultValue="false">
                <Label>X Axis</Label>
            </Field>

            <Field id="showxAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="Check to display X axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelX" type="textfield" defaultValue="X Axis" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the X Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <Field id="xAxisLabelFormat" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="The format specifier for the label that will be displayed on the x axis.">
                <Label>Format:</Label>
                <List class="self" filter="" method="getAxisList" dynamicReload="true"/>
            </Field>

            <Field id="xAxisBins" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="The datetime units for the x axis.">
                <Label>Scale:</Label>
                <List class="self" filter="" method="getBinList" dynamicReload="true"/>
            </Field>

<!--Y Axis-->
            <Field id="yAxisSeparator" type="separator" visibleBindingId="xAxisLabel" visibleBindingValue="true"/>

            <Field id="yAxisLabel" type="checkbox" defaultValue="false">
                <Label>Y Axis</Label>
            </Field>

            <Field id="showyAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to display Y axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelY" type="textfield" defaultValue="Y Axis" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the Y Axis label. Leave blank to display no label.">
                <Label>Label:</Label>
            </Field>

            <Field id="yAxisMin" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The minimum Y axis value.">
                <Label>Min:</Label>
            </Field>

            <Field id="yAxisMax" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The maximum Y axis value.">
                <Label>Max:</Label>
            </Field>

            <Field id="yMirrorValues" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to mirror Y axis values on Y2.">
                <Label>Mirror</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="yMirrorValuesAlsoY1" type="checkbox" defaultValue="true" visibleBindingId="yMirrorValues" visibleBindingValue="true" tooltip="Uncheck to hide Y1 axis values.">
                <Label/>
                <Description>Keep Y1?</Description>
            </Field>

            <Field id="yAxisPrecision" type="menu" defaultValue="0" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Select preference for the precision of your chart's Y axis.">
                <Label>Precision:</Label>
                <List>
                    <Option value="0">0*</Option>
                    <Option value="1">1</Option>
                    <Option value="2">2</Option>
                    <Option value="3">3</Option>
                </List>
            </Field>

            <Field id="customTicksLabelY" type="textfield" defaultValue="" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the labels to be used for the Y Axis ticks, separated by commas. Leave blank to use automatic labels.">
                <Label>Tick Labels:</Label>
            </Field>

            <Field id="customTicksY" type="textfield" defaultValue="" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the numbers to be used for the Y Axis ticks, separated by commas. Leave blank to use automatic ticks.">
                <Label>Tick Locations:</Label>
            </Field>

            <Field id="groupLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Group Controls</Label>
            </Field>

            <Field id="groupSeparator" type="separator"/>
<!-- Group 1 -->
            <Field id="groupLabel1" type="checkbox" defaultValue="false">
                <Label>Group 1</Label>
            </Field>

            <Field id="group1Source" type="menu" visibleBindingId="groupLabel1" visibleBindingValue="true" tooltip="Select data source for group 1.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="group1Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's first group.">
                <Label>Color:</Label>
            </Field>

            <Field id="group1Legend" type="textfield" defaultValue="" visibleBindingId="groupLabel1" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="group1MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="group1Marker" type="menu" visibleBindingId="groupLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's first group.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotGroup1Min" type="checkbox" defaultValue="false" visibleBindingId="groupLabel1" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotGroup1Max" type="checkbox" defaultValue="false" visibleBindingId="groupLabel1" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1BestFit" type="checkbox" defaultValue="false" visibleBindingId="groupLabel1" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="groupLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for group 1.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="group1Bottom" type="separator" visibleBindingId="groupLabel1" visibleBindingValue="true"/>
<!-- Group 2 -->
            <Field id="groupLabel2" type="checkbox" defaultValue="false">
                <Label>Group 2</Label>
            </Field>

            <Field id="group2Source" type="menu" visibleBindingId="groupLabel2" visibleBindingValue="true" tooltip="Select data source for group 2.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="group2Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's second group.">
                <Label>Color:</Label>
            </Field>

            <Field id="group2Legend" type="textfield" defaultValue="" visibleBindingId="groupLabel2" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="group2MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="group2Marker" type="menu" visibleBindingId="groupLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's second group.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotGroup2Min" type="checkbox" defaultValue="false" visibleBindingId="groupLabel2" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotGroup2Max" type="checkbox" defaultValue="false" visibleBindingId="groupLabel2" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2BestFit" type="checkbox" defaultValue="false" visibleBindingId="groupLabel2" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="groupLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for group 2.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="group2Bottom" type="separator" visibleBindingId="groupLabel2" visibleBindingValue="true"/>
<!-- Group 3 -->
            <Field id="groupLabel3" type="checkbox" defaultValue="false">
                <Label>Group 3</Label>
            </Field>

            <Field id="group3Source" type="menu" visibleBindingId="groupLabel3" visibleBindingValue="true" tooltip="Select data source for group 3.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="group3Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's third group.">
                <Label>Color:</Label>
            </Field>

            <Field id="group3Legend" type="textfield" defaultValue="" visibleBindingId="groupLabel3" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="group3MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="group3Marker" type="menu" visibleBindingId="groupLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's third group.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotGroup3Min" type="checkbox" defaultValue="false" visibleBindingId="groupLabel3" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotGroup3Max" type="checkbox" defaultValue="false" visibleBindingId="groupLabel3" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3BestFit" type="checkbox" defaultValue="false" visibleBindingId="groupLabel3" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="groupLabel3" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for group 3.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="group3Bottom" type="separator" visibleBindingId="groupLabel3" visibleBindingValue="true"/>
<!-- Group 4 -->
            <Field id="groupLabel4" type="checkbox" defaultValue="false">
                <Label>Group 4</Label>
            </Field>

            <Field id="group4Source" type="menu" visibleBindingId="groupLabel4" visibleBindingValue="true" tooltip="Select data source for group 4.">
                <Label>Data Source:</Label>
                <List class="self" filter="" method="getFileList" dynamicReload="true"/>
            </Field>

            <Field id="group4Color" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's fourth group.">
                <Label>Color:</Label>
            </Field>

            <Field id="group4Legend" type="textfield" defaultValue="" visibleBindingId="groupLabel4" visibleBindingValue="true"
                   tooltip="Enter text for legend entry. If blank, the data column header will be used.">
                <Label>Legend Label:</Label>
            </Field>

            <Field id="group4MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="groupLabel4" visibleBindingValue="true" tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="group4Marker" type="menu" visibleBindingId="groupLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's fourth group.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="plotGroup4Min" type="checkbox" defaultValue="false" visibleBindingId="groupLabel4" visibleBindingValue="true" tooltip="Check to plot minimum value.">
                <Label>Plot Min</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="plotGroup4Max" type="checkbox" defaultValue="false" visibleBindingId="groupLabel4" visibleBindingValue="true" tooltip="Check to plot maximum value.">
                <Label>Plot Max</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line4BestFit" type="checkbox" defaultValue="false" visibleBindingId="groupLabel4" visibleBindingValue="true" tooltip="Check to plot best fit line.">
                <Label>Plot Best Fit</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line4BestFitColor" type="colorpicker" defaultValue="FF 00 00" visibleBindingId="groupLabel4" visibleBindingValue="true"
                   tooltip="Select preference for the color of the best fit line for group 4.">
                <Label>Best Fit Color:</Label>
            </Field>

            <Field id="enableCustomLineSegmentsSetting" type="checkbox" hidden="true" defaultValue="false">
                <Label>Enable Custom group Segments</Label>
            </Field>

            <Field id="additionalLineSegmentsLabel" type="label" fontColor="black" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true" fontSize="regular" alignText="right">
                <Label>Custom Group Segments</Label>
            </Field>

            <Field id="additionalLineSegments" type="separator" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"/>

            <Field id="customLineSegments" type="textfield" defaultValue="None" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip='For any constants that you would like to chart, enter the data here. The proper format is (data, "color"). The data to be charted must be a valid number and the color value should be enclosed in double quotes. Multiple entries must be separated by a comma: (32.0, "blue"), (32.1, "#FFFFFF")'>
                <Label>Constants:</Label>l
            </Field>

            <Field id="customLineStyle" type="menu" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's custom line segments.">
                <Label>Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="bottomLabel" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Changes made here will be applied the next time the charts are refreshed. If you would like to make your changes effective immediately, select 'Redraw Charts Now' from the Indigo Plugins menu.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>
    </Device>

<!-- Forecast Charting Device -->
    <Device type="custom" id="forecastChartingDevice">
        <Name>Weather Forecast Chart</Name>

        <ConfigUI>
            <Field id="isChart" type="checkbox" defaultValue="true" hidden="true"/>

            <Field id="forecastSourceDeviceText" type="label" fontColor="black" fontSize="regular" alignWithControl="false">
                <Label>Weather Forecast Charts only work with Fantastic Weather and WUnderground Forecast Devices.</Label>
            </Field>

            <Field id="topSeparator" type="separator"/>

            <Field id="fileName" type="textfield" defaultValue="chart_forecast.png" tooltip="Enter the file name of your chart (filename.png).">
                <Label>Output File Name:</Label>
            </Field>

            <Field id="refreshInterval" type="menu" defaultValue="900" tooltip="How frequently would you like the plugin to redraw this chart?">
                <Label>Refresh Interval:</Label>
                <List>
                    <Option value="0">None - Manual Refresh Only</Option>
                    <Option value="-1">%%separator%%</Option>
                    <Option value="60">Every Minute</Option>
                    <Option value="300">Every 5 Minutes</Option>
                    <Option value="600">Every 10 Minutes</Option>
                    <Option value="900">Every 15 Minutes</Option>
                    <Option value="1800">Every 30 Minutes</Option>
                    <Option value="3600">Every Hour</Option>
                    <Option value="86400">Every Day</Option>
                    <Option value="604800">Every Week</Option>
                </List>
            </Field>

            <Field id="outputFileSpace" type="label"/>

            <Field id="chartControlsLabel" type="label" alignText="right">
                <Label>Chart Controls</Label>
            </Field>

            <Field id="sourceSeparator1" type="separator"/>

            <Field id="forecastSourceDevice" type="menu" tooltip="Select source device for the weather forecast chart.">
                <Label>Source Device:</Label>
                <List class="self" filter="" method="getForecastSource" dynamicReload="true"/>
            </Field>

            <Field id="rectWide" type="checkbox" defaultValue="false" tooltip="Check to use Size 2 dimensions.">
                <Label>Use Size 2?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeChart" type="checkbox" defaultValue="false" tooltip="Check to override default chart sizes.">
                <Label>Custom Chart Size?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customSizeHeight" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for height. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Height:</Label>
            </Field>

            <Field id="customSizeWidth" type="textfield" defaultValue="None" visibleBindingId="customSizeChart" visibleBindingValue="true"
                   tooltip="This value will override the size value set in the main plugin configuration. The value will be used for width. To set it back to the default size, enter None. Entering a value here will also override the Size 2 setting.">
                <Label>Custom Width:</Label>
            </Field>

            <Field id="customSizeFont" type="checkbox" defaultValue="false" tooltip="Check to override default font sizes.">
                <Label>Custom Font Sizes?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="showDaytime" type="checkbox" defaultValue="true" tooltip="Check to highlight daytime hours.">
                <Label>Plot Daylight?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="daytimeColor" type="colorpicker" defaultValue="33 33 33"
                   tooltip="Select the color to be used to plot daylight hours.">
                <Label>daytime Color:</Label>
            </Field>

            <Field id="showLegend" type="checkbox" defaultValue="false" tooltip="Check to display chart legend.">
                <Label>Legend?</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customTitleFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the title font size of your chart (this chart only).">
                <Label>Title Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="customTickFontSize" type="menu" visibleBindingId="customSizeFont" visibleBindingValue="true"
                   tooltip="Select your preference for the tick font size of your chart (this chart only).">
                <Label>Tick Font Size:</Label>
                <List class="self" filter="" method="getFontSizeList"/>
            </Field>

            <Field id="chartTitle" type="textfield" defaultValue="Title" tooltip="Enter the title of your chart (optional).">
                <Label>Title:</Label>
            </Field>

            <Field id="AxisLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Axis Controls</Label>
            </Field>

            <Field id="xAxisSeparator" type="separator"/>

            <Field id="xAxisLabel" type="checkbox" defaultValue="false">
                <Label>X Axis</Label>
            </Field>

            <Field id="xAxisLabelFormat" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="The format specifier for the data for the x axis.">
                <Label>Format:</Label>
                <List class="self" filter="" method="getAxisList" dynamicReload="true"/>
            </Field>

            <Field id="showxAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="xAxisLabel" visibleBindingValue="true" tooltip="Check to display X axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelX" type="textfield" defaultValue="X Axis" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the X Axis label. Leave blank to display no label.">
                <Label>Label</Label>
            </Field>

            <Field id="xAxisBins" type="menu" visibleBindingId="xAxisLabel" visibleBindingValue="true"
                   tooltip="The datetime units for the x axis.">
                <Label>Scale:</Label>
                <List class="self" filter="" method="getBinList" dynamicReload="true"/>
            </Field>

            <Field id="yAxisSeparator" type="separator" visibleBindingId="xAxisLabel" visibleBindingValue="true"/>

            <Field id="yAxisLabel" type="checkbox" defaultValue="false">
                <Label>Y Axis</Label>
            </Field>

            <Field id="showyAxisGrid" type="checkbox" defaultValue="false" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Check to display Y axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelY" type="textfield" defaultValue="Y Axis" visibleBindingId="yAxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the Y Axis label. Leave blank to display no label.">
                <Label>Label</Label>
            </Field>

            <Field id="yAxisMin" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The minimum Y axis value.">
                <Label>Min:</Label>
            </Field>

            <Field id="yAxisMax" type="textfield" defaultValue="None" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="The maximum Y axis value.">
                <Label>Max:</Label>
            </Field>

            <Field id="yAxisPrecision" type="menu" defaultValue="0" visibleBindingId="yAxisLabel" visibleBindingValue="true" tooltip="Select preference for the precision of your chart's Y axis.">
                <Label>Precision:</Label>
                <List>
                    <Option value="0">0*</Option>
                    <Option value="1">1</Option>
                    <Option value="2">2</Option>
                    <Option value="3">3</Option>
                </List>
            </Field>

            <Field id="y2AxisSeparator" type="separator" visibleBindingId="yAxisLabel" visibleBindingValue="true"/>

            <Field id="y2AxisLabel" type="checkbox" defaultValue="false">
                <Label>Y2 Axis</Label>
            </Field>

            <Field id="showy2AxisGrid" type="checkbox" defaultValue="false" visibleBindingId="y2AxisLabel" visibleBindingValue="true" tooltip="Check to display Y2 axis grid.">
                <Label>Grid</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="customAxisLabelY2" type="textfield" defaultValue="Y2 Axis" visibleBindingId="y2AxisLabel" visibleBindingValue="true"
                   tooltip="Enter the text to be displayed as the Y2 Axis label. Leave blank to display no label.">
                <Label>Label</Label>
            </Field>

            <Field id="y2AxisMin" type="textfield" defaultValue="None" visibleBindingId="y2AxisLabel" visibleBindingValue="true" tooltip="The minimum Y2 axis value.">
                <Label>Min:</Label>
            </Field>

            <Field id="y2AxisMax" type="textfield" defaultValue="None" visibleBindingId="y2AxisLabel" visibleBindingValue="true" tooltip="The maximum Y2 axis value.">
                <Label>Max:</Label>
            </Field>

            <Field id="y2AxisPrecision" type="menu" defaultValue="0" visibleBindingId="y2AxisLabel" visibleBindingValue="true"
                   tooltip="Select preference for the precision of your chart's Y2 axis.">
                <Label>Precision:</Label>
                <List>
                    <Option value="0">0*</Option>
                    <Option value="1">1</Option>
                    <Option value="2">2</Option>
                    <Option value="3">3</Option>
                </List>
            </Field>

            <Field id="linesLabel" type="label" fontColor="black" fontSize="regular" alignText="right">
                <Label>Line Controls</Label>
            </Field>

            <Field id="linesSeparator" type="separator"/>

<!-- High Temperature -->
            <Field id="lineLabel1" type="checkbox" defaultValue="false">
                <Label>High Temperature</Label>
            </Field>

            <Field id="highTemperatureText" type="label" fontColor="black" visibleBindingId="lineLabel1" visibleBindingValue="true" alignWithControl="true" fontSize="small">
                <Label>High Temperature settings are used when generating both 10-day and 24-hour charts.</Label>
            </Field>

            <Field id="line1Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel1" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line1Color" type="colorpicker" defaultValue="FF 33 33" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's first line.">
                <Label>Color:</Label>
            </Field>

            <Field id="line1Style" type="menu" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's first line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line1MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line1Marker" type="menu" visibleBindingId="lineLabel1" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's first line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="line1Bottom" type="separator" visibleBindingId="lineLabel1" visibleBindingValue="true"/>
<!-- Low Temperature -->
            <Field id="lineLabel2" type="checkbox" defaultValue="false">
                <Label>Low Temperature</Label>
            </Field>

            <Field id="lowTemperatureText" type="label" fontColor="black" visibleBindingId="lineLabel2" visibleBindingValue="true" alignWithControl="true"
                   fontSize="small">
                <Label>Low Temperature settings are only used when generating 10-day charts (24-hour forecasts do not include a low temperature forecast).</Label>
            </Field>

            <Field id="line2Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel2" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line2Color" type="colorpicker" defaultValue="00 00 FF" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's second line.">
                <Label>Color:</Label>
            </Field>

            <Field id="line2Style" type="menu" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's second line.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="line2MarkerColor" type="colorpicker" defaultValue="FF FF FF" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the color of your chart's markers.">
                <Label>Marker Color:</Label>
            </Field>

            <Field id="line2Marker" type="menu" visibleBindingId="lineLabel2" visibleBindingValue="true"
                   tooltip="Select preference for the marker style for your chart's second line.">
                <Label>Marker Style:</Label>
                <List class="self" filter="" method="getMarkerList" dynamicReload="true"/>
            </Field>

            <Field id="line2Bottom" type="separator" visibleBindingId="lineLabel2" visibleBindingValue="true"/>
<!-- Precipitation -->
            <Field id="lineLabel3" type="checkbox" defaultValue="false">
                <Label>Precipitation</Label>
            </Field>

            <Field id="line3Annotate" type="checkbox" defaultValue="false" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Check to plot the data value on the chart.">
                <Label>Annotate</Label>
                <Description>Yes/No</Description>
            </Field>

            <Field id="line3Color" type="colorpicker" defaultValue="99 CC FF" visibleBindingId="lineLabel3" visibleBindingValue="true" tooltip="Select preference for the color of your chart's second line.">
                <Label>Color:</Label>
            </Field>

            <Field id="enableCustomLineSegmentsSetting" type="checkbox" hidden="true" defaultValue="false">
                <Label>Enable Custom Line Segments</Label>
            </Field>

            <Field id="additionalLineSegmentsLabel" type="label" fontColor="black" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true" fontSize="regular" alignText="right">
                    <Label>Custom Line Segments</Label>
            </Field>

            <Field id="additionalLineSegments" type="separator" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"/>

            <Field id="customLineSegments" type="textfield" defaultValue="None" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip='For any constants that you would like to chart, enter the data here. The proper format is (data, "color"). The data to be charted must be a valid number and the color value should be enclosed in double quotes. Multiple entries must be separated by a comma: (32.0, "blue"), (32.1, "#FFFFFF")'>
                <Label>Constants:</Label>l
            </Field>

            <Field id="customLineStyle" type="menu" visibleBindingId="enableCustomLineSegmentsSetting" visibleBindingValue="true"
                   tooltip="Select preference for the style of your chart's custom line segments.">
                <Label>Line Style:</Label>
                <List class="self" filter="" method="getLineList" dynamicReload="true"/>
            </Field>

            <Field id="bottomSeparator" type="separator"/>

            <Field id="bottomLabel" type="label" fontColor="red" fontSize="small" alignText="left">
                <Label>Changes made here will be applied the next time the charts are refreshed. If you would like to make your changes effective immediately, select 'Redraw Charts Now' from the Indigo Plugins menu.</Label>
            </Field>

        </ConfigUI>

        <States>
            <State id="chartLastUpdated">
                <ValueType>String</ValueType>
                <TriggerLabel>Chart Last Updated</TriggerLabel>
                <ControlPageLabel>Chart Last Updated</ControlPageLabel>
            </State>
            <State id="onOffState">
                <ValueType>Boolean</ValueType>
                <TriggerLabel>Device State</TriggerLabel>
                <ControlPageLabel>Device State</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>onOffState</UiDisplayStateId>
    </Device>

</Devices>
